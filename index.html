<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Meu Planner Pessoal</title>

  <link rel="manifest" href="./manifest.json">
  <meta name="theme-color" content="#1e1e1e">
  <link rel="apple-touch-icon" href="icon-192x192.png">

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Segoe+UI,Tahoma,Geneva,Verdana,sans-serif&display=swap');

    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #121212;
      color: #e0e0e0;
    }

    /* --- NAVEGA√á√ÉO POR ABAS --- */
    .nav-tabs {
      display: flex;
      background-color: #1e1e1e;
      padding: 10px 20px 0 20px;
      justify-content: center;
      gap: 10px;
    }

    .tab-button {
      padding: 12px 25px;
      cursor: pointer;
      border: none;
      background-color: transparent;
      color: #a0a0a0;
      font-size: 1.1em;
      border-bottom: 3px solid transparent;
      transition: all 0.3s ease;
    }

    .tab-button.active {
      color: #ffffff;
      border-bottom: 3px solid #007bff;
    }

    .content-section {
      display: none;
      padding: 20px;
      animation: fadeIn 0.5s;
    }

    .content-section.active {
      display: block;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    /* --- ESTILOS DA SE√á√ÉO AGENDA (AGENDA DINAMICA.html) --- */
    #agenda-section {
      --cor-fundo: #121212;
      --cor-superficie: #1e1e1e;
      --cor-borda: #333;
      --cor-texto-principal: #e0e0e0;
      --cor-texto-secundario: #a0a0a0;
      --hora-altura: 60px;
    }

    #agenda-section .container {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      /* Para melhor responsividade */
    }

    #agenda-section .formulario-container {
      background-color: var(--cor-superficie);
      padding: 20px;
      border-radius: 8px;
      width: 280px;
      flex-shrink: 0;
      margin: 0 auto;
      /* Centraliza em telas pequenas */
    }

    #agenda-section .formulario-container h2 {
      margin-top: 0;
      border-bottom: 1px solid var(--cor-borda);
      padding-bottom: 10px;
    }

    #agenda-section .form-group {
      margin-bottom: 15px;
    }

    #agenda-section .form-group label {
      display: block;
      margin-bottom: 5px;
      color: var(--cor-texto-secundario);
      font-size: 0.9em;
    }

    #agenda-section .form-group input,
    #agenda-section .form-group select {
      width: 100%;
      padding: 8px;
      border-radius: 4px;
      border: 1px solid var(--cor-borda);
      background-color: var(--cor-fundo);
      color: var(--cor-texto-principal);
      box-sizing: border-box;
    }

    #agenda-section button {
      width: 100%;
      padding: 10px;
      border: none;
      border-radius: 4px;
      background-color: #007bff;
      color: white;
      font-size: 1em;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    #agenda-section button:hover {
      background-color: #0056b3;
    }

    #agenda-section .agenda-container {
      flex-grow: 1;
      display: grid;
      grid-template-columns: 60px repeat(7, 1fr);
      grid-template-rows: 50px repeat(17, var(--hora-altura));
      background-color: var(--cor-superficie);
      border-radius: 8px;
      border: 1px solid var(--cor-borda);
      min-width: 600px;
      /* Evita que a grade quebre muito */
    }

    #agenda-section .grid-item {
      text-align: center;
      padding: 10px;
      border-bottom: 1px solid var(--cor-borda);
      border-left: 1px solid var(--cor-borda);
      box-sizing: border-box;
    }

    #agenda-section .header-dia {
      font-weight: bold;
    }

    #agenda-section .celula-hora {
      font-size: 0.8em;
      color: var(--cor-texto-secundario);
    }

    #agenda-section .coluna-dia {
      position: relative;
      border-left: none;
      border-bottom: none;
      padding: 0;
      background-image: linear-gradient(var(--cor-borda) 1px, transparent 1px);
      background-size: 100% var(--hora-altura);
    }

    #agenda-section .atividade-bloco {
      position: absolute;
      left: 5px;
      right: 5px;
      border-left: 3px solid #0056b3;
      border-radius: 4px;
      padding: 5px;
      box-sizing: border-box;
      color: white;
      font-size: 0.8em;
      overflow: hidden;
      transition: all 0.3s;
    }

    #agenda-section .atividade-bloco strong {
      display: block;
      font-size: 1.1em;
    }

    /* --- ESTILOS DA SE√á√ÉO DIETA (DIETA.html) --- */
    #dieta-section {
      --primary-color: #4CAF50;
      --secondary-color: #f4f4f4;
      --text-color: #333;
      --container-bg: #ffffff;
      --border-radius: 15px;
      --box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
      background-color: var(--secondary-color);
      color: var(--text-color);
      font-family: 'Poppins', sans-serif;
    }

    #dieta-section .container {
      max-width: 900px;
      margin: 0 auto;
      background-color: var(--container-bg);
      padding: 30px;
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
    }

    #dieta-section header {
      text-align: center;
      margin-bottom: 30px;
    }

    #dieta-section header h1 {
      color: var(--primary-color);
      font-size: 2.5em;
      margin: 0;
    }

    #dieta-section header p {
      font-size: 1.1em;
      color: #666;
    }

    #dieta-section .meal-plan {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      overflow-x: auto;
      /* Para rolagem em telas pequenas */
      display: block;
    }

    #dieta-section .meal-plan th,
    #dieta-section .meal-plan td {
      padding: 15px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }

    #dieta-section .meal-plan th {
      background-color: var(--primary-color);
      color: white;
      font-weight: 600;
      font-size: 1.2em;
    }

    #dieta-section .meal-plan tr:nth-child(even) {
      background-color: #f9f9f9;
    }

    #dieta-section .meal-plan tr:hover {
      background-color: #f1f1f1;
    }

    #dieta-section .meal-time {
      font-weight: 700;
      color: var(--primary-color);
      min-width: 150px;
    }

    #dieta-section .meal-details ul {
      padding-left: 20px;
      margin: 0;
    }

    #dieta-section .meal-details li {
      margin-bottom: 5px;
    }

    #dieta-section .summary {
      background-color: #e8f5e9;
      border-left: 5px solid var(--primary-color);
      padding: 20px;
      margin-top: 30px;
      border-radius: 10px;
    }

    #dieta-section .summary h2 {
      margin-top: 0;
      color: #2e7d32;
    }

    #dieta-section .summary ul {
      list-style: none;
      padding: 0;
    }

    #dieta-section .summary li {
      font-size: 1.1em;
      margin-bottom: 10px;
      display: flex;
      justify-content: space-between;
    }

    #dieta-section .summary span {
      font-weight: 600;
    }

    #dieta-section .footer {
      text-align: center;
      margin-top: 30px;
      font-style: italic;
      color: #888;
    }
  </style>
</head>

<body>

  <nav class="nav-tabs">
    <button class="tab-button active" onclick="showSection('agenda-section')">üìÖ Agenda</button>
    <button class="tab-button" onclick="showSection('dieta-section')">ü•ó Dieta</button>
  </nav>

  <main>
    <section id="agenda-section" class="content-section active">
      <div class="container">
        <div class="formulario-container">
          <h2>Adicionar Atividade</h2>
          <form id="form-atividade">
            <div class="form-group">
              <label for="titulo">T√≠tulo</label>
              <input type="text" id="titulo" required>
            </div>
            <div class="form-group">
              <label for="dia">Dia da Semana</label>
              <select id="dia">
                <option value="1">Segunda-feira</option>
                <option value="2">Ter√ßa-feira</option>
                <option value="3">Quarta-feira</option>
                <option value="4">Quinta-feira</option>
                <option value="5">Sexta-feira</option>
                <option value="6">S√°bado</option>
                <option value="7">Domingo</option>
              </select>
            </div>
            <div class="form-group">
              <label for="inicio">Hora de In√≠cio</label>
              <input type="time" id="inicio" required>
            </div>
            <div class="form-group">
              <label for="fim">Hora de Fim</label>
              <input type="time" id="fim" required>
            </div>
            <div class="form-group">
              <label for="cor">Cor</label>
              <input type="color" id="cor" value="#007bff">
            </div>
            <button type="submit">Adicionar</button>
          </form>
        </div>
        <div class="agenda-container" id="agenda">
        </div>
      </div>
    </section>

    <section id="dieta-section" class="content-section">
      <div class="container">
        <header>
          <h1>ü•ó Dieta Flex√≠vel</h1>
          <p>Perda de gordura + Revolade √†s 22h</p>
          <p><strong>(~2.050‚Äì2.200 kcal, prote√≠na alta, jejum a partir das 18h)</strong></p>
        </header>

        <main>
          <table class="meal-plan">
            <thead>
              <tr>
                <th>Refei√ß√£o / Hor√°rio</th>
                <th>Alimentos</th>
                <th>Totais Aproximados</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="meal-time">Caf√© da manh√£ <br>(8h‚Äì9h)</td>
                <td class="meal-details">
                  <ul>
                    <li>2 ovos inteiros (mexidos ou cozidos)</li>
                    <li>40g queijo branco ou cottage</li>
                    <li>1 p√£o franc√™s ou 2 fatias de p√£o de forma</li>
                    <li>Caf√© com at√© 1 colher de ch√° de a√ß√∫car</li>
                    <li>Fruta (100g mel√£o ou melancia)</li>
                  </ul>
                </td>
                <td>~375 kcal | 21g prote√≠na</td>
              </tr>
              <tr>
                <td class="meal-time">Lanche da manh√£ <br>(11h)</td>
                <td class="meal-details">
                  <strong>Op√ß√µes:</strong>
                  <ul>
                    <li><strong>Sandu√≠che de Frango:</strong> 2 fatias de p√£o, 40g frango desfiado, 20g queijo branco, folhas e tomate</li>
                    <li><strong>Sandu√≠che de Atum:</strong> 2 fatias de p√£o, 80g atum em √°gua, folhas e tomate</li>
                    <li><strong>Shake:</strong> 1 dose whey concentrado + 200 ml √°gua</li>
                  </ul>
                </td>
                <td>~230‚Äì280 kcal | 16‚Äì25g prote√≠na</td>
              </tr>
              <tr>
                <td class="meal-time">Almo√ßo / Pr√©-treino <br>(12h30)</td>
                <td class="meal-details">
                  <ul>
                    <li>150g carne magra (frango, til√°pia, patinho, etc.)</li>
                    <li>120g de carboidrato cozido (arroz, macarr√£o, pur√™, etc.)</li>
                    <li>80g feij√£o (ou lentilha ou gr√£o-de-bico)</li>
                    <li>Salada grande (alface, tomate, pepino) + 1 colher de azeite</li>
                  </ul>
                </td>
                <td>~480‚Äì520 kcal | 35‚Äì38g prote√≠na</td>
              </tr>
              <tr>
                <td class="meal-time">P√≥s-treino <br>(15h‚Äì15h30)</td>
                <td class="meal-details">
                  <ul>
                    <li>1 dose whey concentrado</li>
                    <li>Fruta (100g banana, mel√£o ou melancia)</li>
                  </ul>
                </td>
                <td>~210‚Äì220 kcal | 24g prote√≠na</td>
              </tr>
              <tr>
                <td class="meal-time">√öltima refei√ß√£o <br>(17h30)</td>
                <td class="meal-details">
                  <ul>
                    <li>100g carne magra (mesmas op√ß√µes do almo√ßo)</li>
                    <li>100g carboidrato cozido (batata, mandioquinha, cuscuz, etc.)</li>
                    <li>50g queijo cottage</li>
                    <li>Br√≥colis, abobrinha ou couve refogados</li>
                  </ul>
                </td>
                <td>~290‚Äì320 kcal | 25g prote√≠na</td>
              </tr>
            </tbody>
          </table>

          <div class="summary">
            <h2>üìä Resumo Di√°rio</h2>
            <ul>
              <li>Calorias: <span>~2.050‚Äì2.200 kcal</span></li>
              <li>Prote√≠nas: <span>135‚Äì150 g</span></li>
              <li>Carboidratos: <span>170‚Äì190 g</span></li>
              <li>Gorduras: <span>50‚Äì55 g</span></li>
            </ul>
          </div>

          <p class="footer">Jejum: 18h ‚Üí manh√£ seguinte</p>
        </main>
      </div>
    </section>
  </main>

  <script>
    // --- SCRIPT DE NAVEGA√á√ÉO POR ABAS ---
    function showSection(sectionId) {
      const sections = document.querySelectorAll('.content-section');
      sections.forEach(section => {
        section.classList.remove('active');
      });

      const buttons = document.querySelectorAll('.tab-button');
      buttons.forEach(button => {
        button.classList.remove('active');
      });

      document.getElementById(sectionId).classList.add('active');
      document.querySelector(`.tab-button[onclick="showSection('${sectionId}')"]`).classList.add('active');

      // Muda a cor de fundo do body de acordo com a aba
      if (sectionId === 'dieta-section') {
        document.body.style.backgroundColor = '#f4f4f4';
      } else {
        document.body.style.backgroundColor = '#121212';
      }
    }

    // --- SCRIPT DA AGENDA DIN√ÇMICA ---
    document.addEventListener('DOMContentLoaded', function () {
      const agenda = document.getElementById('agenda');
      const form = document.getElementById('form-atividade');
      const HORA_INICIO_AGENDA = 7;
      const HORA_FIM_AGENDA = 24;
      const ALTURA_HORA = 60;

      function gerarGrade() {
        agenda.innerHTML = '';

        const cantoVazio = document.createElement('div');
        cantoVazio.className = 'grid-item';
        cantoVazio.style.gridColumn = '1';
        cantoVazio.style.gridRow = '1';
        agenda.appendChild(cantoVazio);

        const dias = ['Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'S√°b', 'Dom'];
        dias.forEach((dia, index) => {
          const headerDia = document.createElement('div');
          headerDia.className = 'grid-item header-dia';
          headerDia.textContent = dia;
          headerDia.style.gridColumn = `${index + 2}`;
          headerDia.style.gridRow = '1';
          agenda.appendChild(headerDia);
        });

        for (let hora = HORA_INICIO_AGENDA; hora < HORA_FIM_AGENDA; hora++) {
          const celulaHora = document.createElement('div');
          celulaHora.className = 'grid-item celula-hora';
          celulaHora.textContent = `${hora.toString().padStart(2, '0')}:00`;
          const linha = (hora - HORA_INICIO_AGENDA) + 2;
          celulaHora.style.gridColumn = '1';
          celulaHora.style.gridRow = `${linha}`;
          agenda.appendChild(celulaHora);
        }

        for (let i = 0; i < 7; i++) {
          const colunaDia = document.createElement('div');
          colunaDia.className = 'coluna-dia';
          colunaDia.dataset.diaIndex = i + 1;
          colunaDia.style.gridColumn = `${i + 2}`;
          colunaDia.style.gridRow = `2 / span 17`;
          agenda.appendChild(colunaDia);
        }
      }

      function adicionarAtividade(titulo, dia, inicio, fim, cor) {
        const [horaInicio, minInicio] = inicio.split(':').map(Number);
        const [horaFim, minFim] = fim.split(':').map(Number);
        const inicioEmMinutos = (horaInicio * 60) + minInicio;
        const fimEmMinutos = (horaFim * 60) + minFim;
        const duracaoEmMinutos = fimEmMinutos - inicioEmMinutos;

        const top = ((inicioEmMinutos / 60) - HORA_INICIO_AGENDA) * ALTURA_HORA;
        const height = (duracaoEmMinutos / 60) * ALTURA_HORA;

        const bloco = document.createElement('div');
        bloco.className = 'atividade-bloco';
        bloco.style.top = `${top}px`;
        bloco.style.height = `${height}px`;
        bloco.style.backgroundColor = cor;
        bloco.style.borderLeftColor = ajustarCor(cor, -40);
        bloco.innerHTML = `<strong>${titulo}</strong> ${inicio} - ${fim}`;

        const colunaAlvo = agenda.querySelector(`.coluna-dia[data-dia-index='${dia}']`);
        if (colunaAlvo) {
          colunaAlvo.appendChild(bloco);
        }
      }

      form.addEventListener('submit', function (event) {
        event.preventDefault();
        const titulo = document.getElementById('titulo').value;
        const dia = document.getElementById('dia').value;
        const inicio = document.getElementById('inicio').value;
        const fim = document.getElementById('fim').value;
        const cor = document.getElementById('cor').value;
        adicionarAtividade(titulo, dia, inicio, fim, cor);
      });

      function ajustarCor(corHex, quantidade) {
        let r = parseInt(corHex.slice(1, 3), 16);
        let g = parseInt(corHex.slice(3, 5), 16);
        let b = parseInt(corHex.slice(5, 7), 16);
        r = Math.max(0, Math.min(255, r + quantidade));
        g = Math.max(0, Math.min(255, g + quantidade));
        b = Math.max(0, Math.min(255, b + quantidade));
        return `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`;
      }

      // --- INICIALIZA√á√ÉO DA AGENDA ---
      gerarGrade();

      // --- DADOS PR√â-DEFINIDOS DA AGENDA (SEM CONFLITOS) ---
      const corEstatistica = '#5dade2';      
      const corLinguagens = '#48c9b0';     
      const corPython = '#50e3c2';
      const corSQL = '#3498db';
      const corAcademia = '#f5a623';
      const corEstudo = '#9013fe';
      const corRevisao = '#bd10e0';
      const corDescanso = '#6c757d';
      const corEstudosInd = '#7ed321';

      // Faculdade
      adicionarAtividade('Estat√≠stica p/ Comp.', 3, '07:00', '11:00', corEstatistica);
      adicionarAtividade('Linguagens Formais', 5, '09:00', '12:00', corLinguagens);

      // Cursos Online
      adicionarAtividade('Python (Online)', 2, '15:40', '17:40', corPython);
      adicionarAtividade('Python (Online)', 4, '15:40', '17:40', corPython);
      adicionarAtividade('SQL p/ An√°lise de Dados', 1, '18:00', '22:00', corSQL);
      adicionarAtividade('SQL p/ An√°lise de Dados', 3, '18:00', '22:00', corSQL);
      adicionarAtividade('SQL p/ An√°lise de Dados', 5, '18:00', '22:00', corSQL);

      // Academia
      adicionarAtividade('Academia', 1, '13:00', '15:00', corAcademia);
      adicionarAtividade('Academia', 2, '13:00', '15:00', corAcademia);
      adicionarAtividade('Academia', 3, '13:00', '15:00', corAcademia);
      adicionarAtividade('Academia', 4, '13:00', '15:00', corAcademia);
      adicionarAtividade('Academia', 5, '13:00', '15:00', corAcademia);
      adicionarAtividade('Academia', 6, '15:00', '18:00', corAcademia);

      // Estudos e Revis√µes (REORGANIZADO)
      adicionarAtividade('Estudos Indep.', 1, '15:00', '16:00', corEstudosInd); // Reduzido para 1h
      adicionarAtividade('Revis√£o Concurso', 1, '16:00', '18:00', corRevisao);   // Movido
      adicionarAtividade('Estudo Concurso', 1, '08:00', '12:00', corEstudo);
      
      adicionarAtividade('Estudos Indep.', 2, '19:40', '21:40', corEstudosInd); // Movido para depois do descanso
      adicionarAtividade('Estudo Concurso', 2, '08:00', '12:00', corEstudo);

      adicionarAtividade('Estudo Concurso', 3, '15:00', '18:00', corEstudo);   // Reduzido para terminar antes do SQL

      adicionarAtividade('Estudos Indep.', 4, '19:40', '21:40', corEstudosInd); // Movido para depois do descanso
      adicionarAtividade('Revis√£o Concurso', 4, '21:40', '23:00', corRevisao);   // Movido para mais tarde
      adicionarAtividade('Estudo Concurso', 4, '08:00', '12:00', corEstudo);

      adicionarAtividade('Estudo Concurso', 5, '15:00', '17:00', corEstudo);   // Movido para depois da academia
     
      
      adicionarAtividade('Estudos Indep.', 6, '13:00', '15:00', corEstudosInd);
      adicionarAtividade('Estudo Concurso', 6, '08:00', '12:00', corEstudo);
      adicionarAtividade('Revis√£o Concurso', 6, '19:00', '21:00', corRevisao);

      adicionarAtividade('Estudo Concurso', 7, '14:00', '18:00', corEstudo);
      adicionarAtividade('Revis√£o Concurso', 7, '19:00', '21:00', corRevisao);
      
      // Almo√ßo e Descanso (REORGANIZADO)
      adicionarAtividade('Almo√ßo', 1, '12:00', '13:00', corDescanso);
      adicionarAtividade('Descanso', 1, '22:00', '23:00', corDescanso); // Movido para depois do SQL

      adicionarAtividade('Almo√ßo', 2, '12:00', '13:00', corDescanso);
      adicionarAtividade('Descanso', 2, '17:40', '19:40', corDescanso); // Movido para depois do Python

      adicionarAtividade('Almo√ßo', 3, '11:00', '13:00', corDescanso);
      adicionarAtividade('Descanso', 3, '22:00', '23:00', corDescanso); // Movido para depois do SQL

      adicionarAtividade('Almo√ßo', 4, '12:00', '13:00', corDescanso);
      adicionarAtividade('Descanso', 4, '17:40', '19:40', corDescanso); // Movido para depois do Python

      adicionarAtividade('Almo√ßo', 5, '12:00', '13:00', corDescanso);
      adicionarAtividade('Descanso', 5, '17:00', '18:00', corDescanso); // Reduzido e movido para antes do SQL

      adicionarAtividade('Almo√ßo', 6, '12:00', '13:00', corDescanso);
      adicionarAtividade('Descanso', 6, '18:00', '19:00', corDescanso);

      adicionarAtividade('Descanso', 7, '18:00', '19:00', corDescanso);
    });

    // --- SCRIPT DO SERVICE WORKER (PWA) ---
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./sw.js')
          .then(registration => {
            console.log('Service Worker registrado com sucesso:', registration);
          })
          .catch(error => {
            console.log('Falha ao registrar o Service Worker:', error);
          });
      });
    }
  </script>
</body>


</html>


